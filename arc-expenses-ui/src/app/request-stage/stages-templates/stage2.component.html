<div *ngIf="showStage > 0" class="uk-width-1-1 uk-margin-bottom">
  <!--<hr>-->

  <!-- STAGE RESULT DISPLAY -->
  <div *ngIf="showStage > 1" class="uk-form-controls">
    <!--<h5>{{ stageTitle }}</h5>-->
    <div>
      {{ submittedStageResult }}{{ getDelegateName() }}
      στις {{ currentStage['date'] | date : 'dd-MM-yyyy' }}
    </div>

    <!-- display a checkbox value -->
    <div class="uk-grid uk-margin-small-top">
      <div class="uk-width-expand">
        <span>
            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"
                 style="border: solid 1px lightgray; border-radius: 2px">
                <polyline *ngIf="currentStage[ 'checkNecessity' ]"
                          fill="none" stroke="#000" stroke-width="1.1" points="4,10 8,15 17,4"></polyline>
            </svg>
        </span>
        <label class="uk-width-1-3  uk-margin-small-left">Έγινε έλεγχος αναγκαιότητας</label>
      </div>
    </div>

    <!-- display a checkbox value -->
    <div class="uk-grid uk-margin-small-top">
      <div class="uk-width-expand">
        <span>
            <svg width="20" height="20" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"
                 style="border: solid 1px lightgray; border-radius: 2px">
                <polyline *ngIf="currentStage[ 'checkFeasibility' ]"
                          fill="none" stroke="#000" stroke-width="1.1" points="4,10 8,15 17,4"></polyline>
            </svg>
        </span>
        <label class="uk-width-1-3 uk-margin-small-left">Έγινε έλεγχος σκοπιμότητας</label>
      </div>
    </div>

    <!-- display a long text value -->
    <div *ngIf="currentStage['comment']">
      <span class="uk-text-bold uk-margin-small-right">Σχόλια: </span>
      <span> {{ currentStage['comment'] }} </span>
    </div>

    <!-- display link to attachment -->
    <div *ngIf="currentStage['attachment']">
      <a class="uk-link uk-width-1-1@l uk-margin-small-top" (click)="linkToFile()">
        Πατήστε εδώ για να κατεβάσετε τα σχετικά αρχεία
      </a>
    </div>
  </div>
  <!-- END OF STAGE RESULT DISPLAY -->

  <!-- STAGE FORM -->
  <div *ngIf="(showStage === 1) && stageForm" [formGroup]="stageForm" class="uk-form-controls stageForm">
    <h5>{{ stageTitle }}</h5>

    <div *ngIf="stageFormError" class="uk-alert uk-alert-danger">{{ stageFormError }}</div>

    <!-- FORM CONTROLS -->

    <!-- add a checkbox -->
    <div class="uk-grid uk-margin-small-top">
      <label class="uk-width-1-3">Έγινε έλεγχος αναγκαιότητας; </label>
      <div class="uk-width-expand">
        <input class="uk-form-controls uk-checkbox" type="checkbox" formControlName="checkNecessity">
      </div>
    </div>

    <!-- add a checkbox -->
    <div class="uk-grid uk-margin-small-top">
      <label class="uk-width-1-3">Έγινε έλεγχος σκοπιμότητας;</label>
      <div class="uk-width-expand">
        <input class="uk-form-controls uk-checkbox" type="checkbox" formControlName="checkFeasibility">
      </div>
    </div>

    <!-- COMMENT FIELD -->
    <app-stage-form [description]="commentFieldDesc">
      <textarea formControlName="comment" class="uk-form-controls uk-textarea" rows="2"></textarea>
    </app-stage-form>

    <!--ATTACHMENT FIELD-->
    <app-stage-form-upload-file [uploadedFilename]="uploadedFilename" (emitFile)="getAttachmentInput($event)">
    </app-stage-form-upload-file>

    <!--BUTTONS-->
    <button class="uk-button uk-button-primary" (click)="approveRequest(true)">Εγκρίνεται</button>

    <button class="uk-button uk-button-primary" (click)="approveRequest(false)">Απορρίπτεται</button>

    <button class="uk-button uk-button-primary" (click)="goBackOneStage()">Επιστροφή στο αρχικό στάδιο</button>

    <!-- CURRENT DATE DISPLAY -->
    <div>
      <span class="uk-text-small">Ημερομηνία: {{ getCurrentDateString() }}</span>
    </div>

  </div>
  <!-- END OF STAGE FORM -->

</div>
