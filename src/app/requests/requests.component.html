<div class="uk-section-default uk-section uk-section-small uk-padding-remove-bottom" style="min-height: 325px">
  <div class="uk-container">
    <div class="uk-grid-margin uk-grid uk-grid-stack" uk-grid="">
      <div class="uk-width-1-1@m uk-first-column">

        <h1 class="uk-h3 uk-heading-bullet uk-padding-small uk-margin-remove">{{title}}</h1>

        <!-- TOP HELP CONTENT -->
        <help-content #topHelperContent [position]="'top'"
                      [ngClass]="topHelperContent.isPresent()?'uk-margin-medium-top uk-margin-medium-bottom':'clear-style'">
        </help-content>

        <div class="uk-container uk-margin-medium-top uk-margin-remove">
          <div class="uk-grid">

            <!-- LEFT HELP CONTENT -->
            <aside-help-content #leftHelperContent [position]="'left'"
                                [ngClass]="leftHelperContent.isPresent()?'tm-sidebar uk-width-1-4@m uk-first-column':'clear-style'">
            </aside-help-content>

            <!-- MIDDLE -->
            <div class=" uk-width-expand@m">

                <div class="uk-form-horizontal uk-margin-large">
                    <div [formGroup]="keywordField" class="uk-width-1-2 uk-align-center uk-margin-top">
                        <input class="uk-input uk-width-2-3 uk-search-field"
                               placeholder="αιτών, χειριστής, υπεύθυνος, έργο, ινστιτούτο" formControlName="keyword">
                        <button class="uk-button-medium uk-button-secondary uk-padding-small" (click)="getSearchResults()">Αναζήτηση</button>
                    </div>
                </div>
                <div>
                    <div *ngIf="errorMessage" class="uk-alert uk-alert-warning">{{errorMessage}}</div>
                    <div *ngIf="showSpinner" class="uk-inline uk-position-center uk-padding-large-top">
                        <div class="uk-overlay-default uk-position-cover"></div>
                        <div uk-spinner="ratio: 2" class="uk-overlay uk-dark"></div>
                    </div>
                    <div *ngIf="searchResults">
                        <div class="uk-grid page-controls">
                            <div class="uk-margin-bottom ">
                                <div class="show-options uk-inline">
                                    <div class="filterLabel">Κατάσταση:</div>
                                    <div class="inlineBlock">
                                        <select class="form-control" (change)="chooseState($event)">
                                            <option *ngFor="let state of states" value="{{ state }}">{{stateNames[state]}}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="uk-margin-bottom ">
                                <div class="show-options uk-inline">
                                    <div class="filterLabel">Στάδιο:</div>
                                    <div class="inlineBlock">
                                        <select class="form-control" (change)="chooseStage($event)">
                                            <option *ngFor="let stage of stages" value="{{ stage }}">{{ stagesMap[stage] }}</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="uk-margin-bottom ">
                                <div class="show-options uk-inline">
                                    <div class="filterLabel">Αιτήσεις ανά σελίδα:</div>
                                    <div class="inlineBlock">
                                        <select id="req-pagesize" class="form-control" (change)="getItemsPerPage($event)">
                                            <option value="10" selected>10</option>
                                            <option value="25">25</option>
                                            <option value="50">50</option>
                                            <option value="100">100</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="contentAndPagerPanel">

                            <div class="uk-width-1-1 uk-margin uk-padding uk-padding-remove-bottom">
                                <!-- Paging-top -->
                                <div class="uk-width-1-1 uk-align-center">
                                    <ul class="uk-pagination uk-padding-small uk-padding-remove-bottom">
                                        <li>
                                            <a class="uk-link uk-link-muted" (click)="goToPreviousPage()">
                                                <span class="uk-margin-small-right uk-pagination-previous uk-icon" uk-pagination-previous="">
                                                    <svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"
                                                         icon="pagination-previous" ratio="1"></svg>
                                                </span>
                                                Previous
                                            </a>
                                        </li>

                                        <li class="uk-margin-auto-left">
                                            <div class="resultsPageLabel" style="all: unset; font-size: small">page {{ (totalPages > 0) ? currentPage+1 : 0 }} of {{ totalPages }}</div>
                                        </li>

                                        <li class="uk-margin-auto-left">
                                            <a class="uk-link uk-link-muted" (click)="goToNextPage()">
                                                Next
                                                <span class="uk-margin-small-left uk-pagination-next uk-icon" uk-pagination-next="">
                                                    <svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"
                                                         icon="pagination-next" ratio="1"></svg>
                                                </span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                            <div>
                                <div *ngIf="listOfRequests" class="uk-width-1-1 uk-overflow-auto uk-scrollspy-inview uk-animation-slide-top-medium uk-margin-top uk-margin-bottom">
                                    <table class="uk-table uk-table-hover uk-table-divider">
                                        <thead>
                                            <tr>
                                                <th>Αρ.Πρωτοκόλλου</th>
                                                <th><a (click)="sortBy('request_project')" title="Ταξινόμηση με βάση τον τίτλο του έργου">
                                                    Πρόγραμμα&nbsp;
                                                    <span *ngIf="orderField && (orderField === 'request_project')"
                                                          [innerHtml]="getOrderSign()"></span>
                                                    </a>
                                                </th>
                                                <th><a (click)="sortBy('request_institute')" title="Ταξινόμηση με βάση το όνομα του Ινστιτούτου" class="uk-margin-large-right">
                                                    Ινστιτούτο/Μονάδα
                                                    <span *ngIf="orderField && (orderField === 'request_institute')"
                                                          [innerHtml]="getOrderSign()"></span>
                                                </a></th>

                                                <th>Αιτών</th>
                                                <th><a (click)="sortBy('creation_date')" title="Ταξινόμηση με βάση την ημερομηνία υποβολής του αιτήματος">
                                                    Ημ/νια&nbsp;
                                                    <span *ngIf="orderField && (orderField === 'creation_date')"
                                                          [innerHtml]="getOrderSign()"></span>
                                                    </a>
                                                </th>
                                                <th><a (click)="sortBy('request_stage')" title="Ταξινόμηση με βάση το στάδιο" class="uk-margin-right">
                                                    Στάδιο&nbsp;
                                                    <span *ngIf="orderField && (orderField === 'request_stage')"
                                                          [innerHtml]="getOrderSign()"></span>
                                                    </a>
                                                </th>
                                                <th><span class="uk-margin-right">Κατάσταση</span></th>
                                            </tr>
                                            <tr *ngIf="noRequests">
                                                <td colspan="7" class="uk-alert uk-width-1-1">{{noRequests}}</td>
                                            </tr>
                                            <tr class="uk-link" *ngFor="let req of listOfRequests"
                                                [routerLink]="['request-stage', req.id]"
                                                title="Μετάβαση στην σελίδα του αιτήματος">
                                                <td>{{ req.id }}</td>
                                                <td>{{ req.project.acronym }}</td>
                                                <td>{{ req.project.institute.name }}</td>
                                                <td>{{ req.requester.firstname }} {{ req.requester.lastname }}</td>
                                                <td>{{ req.stage1.requestDate | date : 'dd-MM-yyyy' }}</td>
                                                <!--<td>{{ req.stage }}</td>-->
                                                <td>{{ stagesMap[req.stage] }}</td>
                                                <td>{{ getStatusAsString(req.status) }}</td>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
                            </div>

                            <div class="uk-width-1-1 uk-margin uk-padding uk-padding-remove-top">
                                <!-- Paging-bottom -->
                                <div class="uk-width-1-1 uk-align-center">
                                    <ul class="uk-pagination uk-padding-small uk-padding-remove-top">
                                        <li>
                                            <a class="uk-link uk-link-muted" (click)="goToPreviousPage()">
                                                <span class="uk-margin-small-right uk-pagination-previous uk-icon" uk-pagination-previous="">
                                                    <svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"
                                                         icon="pagination-previous" ratio="1"></svg>
                                                </span>
                                                Previous
                                            </a>
                                        </li>

                                        <li class="uk-margin-auto-left">
                                            <div class="resultsPageLabel" style="all: unset; font-size: small">page {{ (totalPages > 0) ? currentPage+1 : 0 }} of {{ totalPages }}</div>
                                        </li>

                                        <li class="uk-margin-auto-left">
                                            <a class="uk-link uk-link-muted" (click)="goToNextPage()">
                                                Next
                                                <span class="uk-margin-small-left uk-pagination-next uk-icon" uk-pagination-next="">
                                                    <svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"
                                                         icon="pagination-next" ratio="1"></svg>
                                                </span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>

                        </div>

                    </div>

                </div>

                <!-- form --> <!--<div class="uk-form-horizontal uk-margin-large uk-padding-remove-bottom">


                <div class="uk-align-center">
                  <div class="uk-width-1-2 uk-align-center">
                    <input class="uk-input uk-width-2-3 uk-search-field"
                         placeholder="αιτών, χειριστής, υπεύθυνος, έργο, ινστιτούτο" formControlName="searchText">
                    <button class="uk-button-medium uk-button-secondary uk-padding-small" (click)="ngOnInit()">Αναζήτηση</button>
                  </div>

          &lt;!&ndash; Filters &ndash;&gt;
                  <div id="filters" class="uk-width-1-1 uk-align-right uk-inline">
                    <div class="uk-width-small uk-align-right uk-margin-remove">
                      &lt;!&ndash;<div class="uk-width-small uk-align-right uk-margin">&ndash;&gt;
                      <div class="show-options uk-inline" style="float: right;">
                        <label for="req-pagesize" style="display: inline;">Αιτήσεις:</label>
                        <div class="inlineBlock">
                          <select id="req-pagesize" #itemsPerPage class="form-control" (change)="getItemsPerPage(itemsPerPage.value)">
                            <option value="10" selected>10</option>
                            <option value="25">25</option>
                            <option value="50">50</option>
                            <option value="100">100</option>
                          </select>
                        </div>
                      </div>
                    </div>

                    <div class="uk-width-small uk-align-left uk-margin-remove">
                      <label for="req-status" style="padding-left: 15px">Κατάσταση:</label>
                      <select class="uk-select uk-width-small" id="req-status" formControlName="status">
                        <option value="all">όλα</option>
                        <option *ngFor="let state of states">{{state}}</option>
                      </select>
                    </div>
                    <div class="uk-width-small uk-align-left uk-margin-remove" style="padding-right: 15px;">
                      <label for="req-stage" style="padding-left: 15px">Στάδιο:</label>
                      <select class="uk-select uk-width-small" id="req-stage" formControlName="stage">
                        <option *ngFor="let stage of stages"><span>{{stage==='0' ? 'όλα τα στάδια' : stage}}</span></option>
                      </select>
                    </div>
                    &lt;!&ndash;<div class="uk-width-small uk-align-left uk-margin-remove" style="padding-right: 15px;">&ndash;&gt;
                      &lt;!&ndash;<label for="req-date" style="padding-left: 15px">Ημ/νια:</label>&ndash;&gt;
                      &lt;!&ndash;<input id="req-date" type="date" min="2018-01-01">&ndash;&gt;
                      &lt;!&ndash;&lt;!&ndash; TODO: na perasw tin imerominia &ndash;&gt;&ndash;&gt;
                    &lt;!&ndash;</div>&ndash;&gt;

                  </div>
          &lt;!&ndash; /Filters &ndash;&gt;

                </div>

              </div>


              <div class="uk-width-1-1 uk-margin uk-padding uk-padding-remove-bottom">
          &lt;!&ndash; Paging-top &ndash;&gt;
                <div class="uk-width-1-1 uk-align-center">
                  <ul class="uk-pagination uk-padding-small uk-padding-remove-bottom">
                    <li>
                      <a class="uk-link uk-link-muted" (click)="goToPreviousPage()">
                  <span class="uk-margin-small-right uk-pagination-previous uk-icon" uk-pagination-previous="">
                    <svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"
                         icon="pagination-previous" ratio="1"></svg>
                  </span>
                        Previous
                      </a>
                    </li>

                    <li class="uk-margin-auto-left">
                      <div class="resultsPageLabel" style="all: unset; font-size: small">page {{ currentPage+1 }} of {{ totalPages }}</div>
                    </li>

                    <li class="uk-margin-auto-left">
                      <a class="uk-link uk-link-muted" (click)="goToNextPage()">
                        Next
                        <span class="uk-margin-small-left uk-pagination-next uk-icon" uk-pagination-next="">
                        <svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"
                             icon="pagination-next" ratio="1"></svg>
                      </span>
                      </a>
                    </li>
                  </ul>
                  &lt;!&ndash;<div class="resultsPageLabel">page {{ currentPage+1 }} of {{ totalPages }}</div>&ndash;&gt;
                </div>
    &lt;!&ndash; /Paging-top &ndash;&gt;


              </div>


                &lt;!&ndash;</fieldset>&ndash;&gt;
              &lt;!&ndash;</div>&ndash;&gt;
<div class="uk-width-1-1 uk-overflow-auto uk-scrollspy-inview uk-animation-slide-top-medium uk-margin-top uk-margin-bottom">
                  <table class="uk-table uk-table-hover uk-table-divider">
                    <thead>
                      <tr>

                        &lt;!&ndash;<td class="uk-link" (click)="sortBy(1)"><app-category [title]="'Α/Α'" [sortSymbol]="catSymbol[]"></app-category></td>&ndash;&gt;
                        &lt;!&ndash;<td class="uk-link" (click)="sortBy(2)"><app-category [title]="'Πρόγραμμα'"></app-category></td>&ndash;&gt;
                          &lt;!&ndash;<td class="uk-link"><app-category [title]="'Ινστιτούτο/Μονάδα'"></app-category></td>&ndash;&gt;
                        &lt;!&ndash;<td class="uk-link"><app-category [title]="'Αιτών'"></app-category></td>&ndash;&gt;
                        &lt;!&ndash;<td class="uk-link"><app-category [title]="'Ημ/νια'"></app-category></td>&ndash;&gt;
                        &lt;!&ndash;<td class="uk-link"><app-category [title]="'Στάδιο'"></app-category></td>&ndash;&gt;
                        &lt;!&ndash;<td class="uk-link"><app-category [title]="'Κατάσταση'"></app-category></td>&ndash;&gt;
                          &lt;!&ndash;&ndash;&gt;
                        <td class="uk-link" (click)="sortBy(0)">{{categories[0]}} <span [innerHtml]="catSymbols[0]"></span></td>
                        <td class="uk-link" (click)="sortBy(1)">{{categories[1]}} <span [innerHtml]="catSymbols[1]"></span></td>
                        <td class="uk-link" (click)="sortBy(2)">{{categories[2]}} <span [innerHtml]="catSymbols[2]"></span></td>
                        <td class="uk-link" (click)="sortBy(3)">{{categories[3]}} <span [innerHtml]="catSymbols[3]"></span></td>
                        <td class="uk-link" (click)="sortBy(4)">{{categories[4]}} <span [innerHtml]="catSymbols[4]"></span></td>
                        <td class="uk-link" (click)="sortBy(5)">{{categories[5]}} <span [innerHtml]="catSymbols[5]"></span></td>
                        <td class="uk-link" (click)="sortBy(6)">{{categories[6]}} <span [innerHtml]="catSymbols[6]"></span></td>
                        <td class="uk-link" (click)="sortBy(7)">{{categories[7]}} <span [innerHtml]="catSymbols[7]"></span></td>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let entry of listOfRequests" class="uk-link" [routerLink]="['request-stage', entry.id]">
                        <td>{{entry.id}}</td>
                        <td>{{entry.requesterPosition}}</td>
                        <td>{{entry.stage}}</td>
                        <td>{{entry.id}}</td>
                        <td>{{entry.requesterPosition}}</td>
                        <td>{{entry.stage}}</td>
                        <td>{{entry.stage1.amountInEuros}}&euro;</td>
                        <td>{{entry.status}}</td>

                        &lt;!&ndash;<td>&ndash;&gt;
                          &lt;!&ndash;<div>{{entry.stage}}</div>&ndash;&gt;
                          &lt;!&ndash;<div>{{entry.stage1.amountInEuros}}&euro;</div>&ndash;&gt;
                        &lt;!&ndash;</td>&ndash;&gt;
                        &lt;!&ndash;<td>&ndash;&gt;
                          &lt;!&ndash;<div>{{entry.status}}</div>&ndash;&gt;
                          &lt;!&ndash;&lt;!&ndash;<div>{{entry.st}</div>&ndash;&gt;&ndash;&gt;
                          &lt;!&ndash;<div>{{entry.stage1.amountInEuros}}&euro;</div>&ndash;&gt;
                        &lt;!&ndash;</td>&ndash;&gt;
                      </tr>
                    </tbody>
                  </table>
</div>

      &lt;!&ndash; Paging-bottom &ndash;&gt;
              <div class="uk-padding uk-padding-remove-top">
                <div class="uk-width-1-1 uk-align-center">
                  <ul class="uk-pagination">
                    <li>
                      <a class="uk-link uk-link-muted" (click)="goToPreviousPage()">
                    <span class="uk-margin-small-right uk-pagination-previous uk-icon" uk-pagination-previous="">
                      <svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"
                           icon="pagination-previous" ratio="1"></svg>
                    </span>
                        Previous
                      </a>
                    </li>

                    <li class="uk-margin-auto-left">
                      <div class="resultsPageLabel" style="all: unset; font-size: small">page {{ currentPage+1 }} of {{ totalPages }}</div>
                    </li>

                    <li class="uk-margin-auto-left">
                      <a class="uk-link uk-link-muted" (click)="goToNextPage()">
                        Next
                        <span class="uk-margin-small-left uk-pagination-next uk-icon" uk-pagination-next="">
                          <svg width="7" height="12" viewBox="0 0 7 12" xmlns="http://www.w3.org/2000/svg"
                               icon="pagination-next" ratio="1"></svg>
                        </span>
                      </a>
                    </li>
                  </ul>
                  &lt;!&ndash;<div class="resultsPageLabel">page {{ currentPage+1 }} of {{ totalPages }}</div>&ndash;&gt;
                </div>
              </div>-->
      <!-- /Paging-bottom -->


            </div>

            <!-- RIGHT HELP CONTENT -->
            <aside-help-content #rightHelperContent [position]="'right'"
                                [ngClass]="rightHelperContent.isPresent()?'tm-sidebar uk-width-1-4@m uk-first-column':'clear-style'">
            </aside-help-content>

          </div>
        </div>


        <!-- BOTTOM HELP CONTENT -->
        <help-content #bottomHelperContent [position]="'bottom'"
                      [ngClass]="bottomHelperContent.isPresent()?'uk-margin-medium-top uk-margin-medium-bottom':'clear-style'">
        </help-content>


      </div>
    </div>
  </div>
</div>